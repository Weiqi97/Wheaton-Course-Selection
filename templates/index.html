<!DOCTYPE html>
<html lang="en">
<!-- Head of the file. -->
<head>
    <meta charset="UTF-8">
    <title>Course Selection</title>

    <!-- Jquery -->
    <script src="../static/node_modules/jquery/dist/jquery.min.js"></script>

    <!-- Bootstrap -->
    <script src="../static/node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
    <link rel="stylesheet"
          href="../static/node_modules/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet"
          href="../static/node_modules/bootstrap/dist/css/bootstrap-theme.min.css">

    <!-- Sweet alert -->
    <script src="../static/node_modules/sweetalert2/dist/sweetalert2.js"></script>
    <link rel="stylesheet"
          href="../static/node_modules/sweetalert2/dist/sweetalert2.css">

    <!-- Bootstrap Select -->
    <script src="../static/node_modules/bootstrap-select/dist/js/bootstrap-select.js"></script>
    <link rel="stylesheet"
          href="../static/node_modules/bootstrap-select/dist/css/bootstrap-select.css">

    <!-- Data Table -->
    <script src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.js"></script>
    <link rel="stylesheet"
          href="https://cdn.datatables.net/1.10.16/css/jquery.dataTables.css">

    <!-- Full Calendar -->
    <script src='../static/node_modules/moment/min/moment.min.js'></script>
    <script src='../static/node_modules/fullcalendar/dist/fullcalendar.js'></script>
    <link rel='stylesheet'
          href='../static/node_modules/fullcalendar/dist/fullcalendar.css'/>
    <link rel='stylesheet'
          href='../static/node_modules/fullcalendar/dist/fullcalendar.print.css'
          media="print"/>

    <!-- Fonts -->
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css?family=Questrial|Roboto+Condensed|Nanum+Gothic">
    <link rel="stylesheet"
          href="https://use.fontawesome.com/releases/v5.0.10/css/all.css">

    <!-- Project javascript and CSS -->
    <script src="../static/js/script_base.js"></script>
    <link rel="stylesheet" href="../static/css/style_base.css">
</head>

<body>
<!-- Header of the page. -->
<div class="container-fluid header">
    <br>
    <div class="row">
        <div class="col-lg-12 col-md-12 col-sm-12 college_header">
            <b>Wheaton College</b>
            <sub> - The right tool to help you pick classes</sub>
        </div>
    </div>
    <br>
</div>

<!-- Selection drop downs. -->
<div class="container-fluid course-picker">
    <div class="row">
        <form name="Selections" method="post">
            <select class="selectpicker col-lg-2 col-md-2" id="semester"
                    name="semester" title="Semesters">
                {% for name in fetched_semesters.index %}
                    <option value="{{ name }}">{{ name }}</option>"
                {% endfor %}
            </select>

            <select class="selectpicker col-lg-2 col-md-2"
                    data-live-search="true" id="subjects" name="subjects"
                    title="Subject(s)" multiple="multiple">
                {% for name, value in fetched_subjects.iteritems() %}
                    <option value="{{ value }}">{{ name }}</option>"
                {% endfor %}
            </select>

            <label for="foundation"></label>
            <select class="selectpicker col-lg-2 col-md-2" id="foundation"
                    name="foundation">
                {% for name, value in fetched_foundations.iteritems() %}
                    <option value="{{ value }}">{{ name }}</option>"
                {% endfor %}
            </select>

            <label for="division"></label>
            <select class="selectpicker col-lg-2 col-md-2" id="division"
                    name="division">
                {% for name, value in fetched_divisions.iteritems() %}
                    <option value="{{ value }}">{{ name }}</option>"
                {% endfor %}
            </select>

            <label for="area"></label>
            <select class="selectpicker col-lg-2 col-md-2" id="area"
                    name="area">
                {% for name, value in fetched_areas.iteritems() %}
                    <option value="{{ value }}">{{ name }}</option>"
                {% endfor %}
            </select>

            <button type="submit" id="submit" onclick="return checkField()">
                Search <i class="glyphicon glyphicon-search"></i>
            </button>
        </form>
    </div>
</div>
<br>

<!-- This part is for body of the page (Calendar, Table). -->
<div class="container-fluid">
    <!-- This part displays the calendar. -->
    <div class="col-lg-6 col-md-6 calendar">
        <div id="calendar"></div>
    </div>

    <!--This is for displaying the course schedule-->
    <div class="col-lg-6 col-md-6 result_table">
        <table class="table table-striped nowrap" id="result_table"
               style="width:100%;">
            <!-- Set up table headers. -->
            <thead>
            <tr>
                <th></th>
                <th>Number</th>
                <th>Title</th>
                <th id="add_button"></th>
                <th>Time</th>
                <th>Instructor</th>
                <th>CRN</th>
                <th>Exam</th>
                <th>Connection</th>
                <th>Location</th>
                <th>Textbook</th>
                <th>Info</th>
                <th>Seats</th>
                <th>Special</th>
                <th>Hidden Days</th>
            </tr>
            </thead>

            <!-- Set up table columns. -->
            <tbody>
            {% for _, row in selected_data.iterrows() %}
                <tr>

                    <!-- Column of show details button. -->
                    <td class="details-control" id="show_detail"></td>

                    <!-- Column of class number. -->
                    <td>
                        <a target="_blank" href={{ row["number"].link }}>
                            {{ row["number"].num }}</a>
                    </td>

                    <!-- Column of class title. -->
                    <td>{{ row["title"] }}</td>

                    <!-- Column of add class to calendar button. -->
                    <td id="add_button">
                        <button class="add_class glyphicon glyphicon-plus"></button>
                    </td>


                    <!-- Column of class time. -->
                    <td>
                        {% for time in row["time"] %}
                            {{ time }}<br>
                        {% endfor %}
                    </td>

                    <!-- Column of class instructor(s). -->
                    <td>
                        {% for instructor in row["instructor"] %}
                            <a target="_blank" href={{ instructor.link }}>
                                {{ instructor.name }}</a><br>
                        {% endfor %}
                    </td>


                    <!-- Column of class CRN. -->
                    <td>CRN: {{ row["CRN"] }}</td>

                    <!-- Column of exam. -->
                    <td>
                        {% if row["exam"].link %}
                            Exam:
                            <a target="_blank" href={{ row["exam"].link }}>
                                {{ row["exam"].letter }}</a>
                        {% endif %}
                    </td>

                    <!-- Column of connection. -->
                    <td>
                        {% if row["connection"] %}
                            Connection(s):
                            {% for connection in row["connection"] %}
                                <a target="_blank" href={{ connection.link }}>
                                    {{ connection.num }}</a>
                            {% endfor %}
                        {% endif %}
                    </td>

                    <!-- Column of class location. -->
                    <td>
                        {% if row["location"] %}
                            Location:
                            {% for location in row["location"] %}
                                {{ location }}
                            {% endfor %}
                        {% endif %}
                    </td>

                    <!-- Column of textbook links. -->
                    <td>
                        <a target="_blank"
                           href={{ row["textbook"] }}>Textbook</a>
                    </td>

                    <!-- Column of class found, div, area info. -->
                    <td>
                        {% if row["foundation"] %}
                            _Foundation: {{ row["foundation"] }}!
                        {% endif %}

                        {% if row["division"] %}
                            _Division: {{ row["division"] }}!
                        {% endif %}

                        {% if row["area"] %}
                            _Area: {{ row["area"] }}!
                        {% endif %}
                    </td>

                    <!-- Column of seats info. -->
                    <td>
                        _{{ row["seats"].max }}!
                        _{{ row["seats"].taken }}!
                        _{{ row["seats"].avail }}!
                        _{{ row["seats"].wait_list }}!
                    </td>

                    <!-- Column of special note. -->
                    <td>
                        {% if row["special_info"] %}
                            _{{ row["special_info"] }}!
                        {% endif %}
                    </td>

                    <!-- Column of hidden days. -->
                    <td>{{ row["hidden_days"] }}</td>

                </tr>{% endfor %}
            </tbody>
        </table>
    </div>
</div>
</body>

<!-- This part sets the footer of the page. -->
<br>
<footer>
    <div id="footer">
        <div class="container">
            <div class="row">
                <br>
                <div class="col-lg-12 col-md-12" style="text-align: center;">
                    <div class="footer_header">Wheaton college</div>

                   <!-- <div class="artist"><a
                            href="https://github.com/Weiqi97/WheatonCourseSelection"><img
                            src="../static/images/github.png"
                            class="contact-icon"> Please visit our Github page</a>
                    </div>
                    <div class="artist"><img
                            src="../static/images/gmail-icon.png"
                            class="contact-icon">
                        feng_weiqi@wheatoncollege.edu &
                        norbu_phuntsho@wheatoncollege.edu
                    </div>
                    <div class="artist">&copy 2018 ALL RIGHTS RESERVED</div>
                    -->
                </div>

                <center> <span class="footer-contact">
                    <span> &copy 2018 ALL RIGHTS RESERVED &nbsp | &nbsp</span>
                    <span > Contact Us &nbsp | &nbsp</span>

                    <span class="icons"><a href="https://github.com/Weiqi97/WheatonCourseSelection">GitHub</a></span>
                </span></center>
            </div>
        </div>
    </div>
</footer>
</html>

<script type="text/javascript">
    // Change the style of drop downs.
    $('.selectpicker').selectpicker({
        style: 'btn-info',
        size: 10
    });
</script>
