# Set up environment.
environment:
  # Run for both architecture for python 3.7.x
  matrix:
    - PYTHON: "C:\\Python37"
      PYTHON_VERSION: "3.7"
      PYTHON_ARCH: "32"

    - PYTHON: "C:\\Python37-x64"
      PYTHON_VERSION: "3.7"
      PYTHON_ARCH: "64"

# Set python path.
init:
  - set PATH=%PYTHON%;%PYTHON%\\Scripts;%PATH%

# Installations.
install:
  # Upgrade pip to the latest version.
  - python -m pip install --upgrade pip
  - pip install -r dev_requirements.txt
  # Set up node js checks.
  - choco install nodejs
  # use npm to install all the dependencies.
  - cd ./static
  - npm install
  - cd ..

# Testing script.
test_script:
  # Test for python styles.
  - flake8
  - pydocstyle
  # Test for node js styles.
  - ./static/node_modules/.bin/eslint ./static/js/

build: off
